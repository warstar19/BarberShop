<div class="contenedor-historial container bg-dark text-warning mt-4">
  <h2 class="text-center mb-4">Historial de Servicios</h2>

  <!-- Skeleton de carga -->
  <div *ngIf="isLoading" class="skeleton-loader">
    <div class="skeleton-item mb-3"></div>
    <div class="skeleton-item mb-3"></div>
    <div class="skeleton-item mb-3"></div>
    <div class="skeleton-item mb-3"></div>
    <div class="skeleton-item mb-3"></div>
    <div class="skeleton-item mb-3"></div>
  </div>

  <!-- Contenido del historial -->
  <div *ngIf="!isLoading" class="row fadeInText">
    <div *ngFor="let item of historial" class="col-12 mb-3">
      <div class="card bg-dark text-light p-3">
        <!-- Vista previa de la cita -->
        <p><strong>Barbero:</strong> {{ item.barbero }}</p>
        <p><strong>Fecha:</strong> {{ item.fecha }}</p>
        <p><strong>Hora:</strong> {{ item.hora }}</p>
        <p><strong>Estado:</strong>
          <span [ngClass]="{'text-success': item.estado === 'completada', 'text-danger': item.estado === 'cancelada'}">
            {{ item.estado === 'completada' ? 'Completada' : 'Cancelada' }}
          </span>
        </p>

        <!-- Botón para expandir detalles -->
        <button class="btn btn-info mt-2" (click)="toggleDetails(item)">
          {{ item.isExpanded ? 'Ocultar Detalles' : 'Ver Detalles' }}
        </button>

        <!-- Información adicional (se muestra si isExpanded es true) -->
        <div *ngIf="item.isExpanded" class="mt-3">
          <p><strong>Servicio:</strong> {{ item.servicio }}</p>
          <p><strong>Tiempo Estimado:</strong> {{ item.tiempo }}</p>
          <p><strong>Cliente:</strong> {{ item.cliente }}</p>
          <p><strong>Teléfono:</strong> {{ item.telefono }}</p>
        </div>
      </div>
    </div>
  </div>
</div>
