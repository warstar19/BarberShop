<div class="container bg-dark text-warning p-4 rounded-3" style="max-width: 900px;">
  <h2 class="text-center mb-4 fw-bold">Historial de Citas - Barbero</h2>

  <!-- Filtros -->
  <div class="row mb-3">
    <div class="col-md-4">
      <input [(ngModel)]="filtros.cliente" (input)="applyFilters()" type="text" class="form-control" placeholder="Filtrar por cliente...">
    </div>
    <div class="col-md-4">
      <input [(ngModel)]="filtros.barbero" (input)="applyFilters()" type="text" class="form-control" placeholder="Filtrar por barbero...">
    </div>
    <div class="col-md-4">
      <input [(ngModel)]="filtros.sucursal" (input)="applyFilters()" type="text" class="form-control" placeholder="Filtrar por sucursal...">
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-4">
      <input [(ngModel)]="filtros.servicio" (input)="applyFilters()" type="text" class="form-control" placeholder="Filtrar por servicio...">
    </div>
    <div class="col-md-4">
      <input [(ngModel)]="filtros.fecha_inicio" (change)="applyFilters()" type="date" class="form-control">
    </div>
    <div class="col-md-4">
      <input [(ngModel)]="filtros.fecha_fin" (change)="applyFilters()" type="date" class="form-control">
    </div>
  </div>

  <!-- Tabla de resultados -->
  <table class="table table-dark table-bordered">
    <thead>
      <tr>
        <th>Hora</th>
        <th>Fecha</th>
        <th>Cliente</th>
        <th>Barbero</th>
        <th>Servicio</th>
        <th>Tiempo</th>
        <th>Monto</th>
        <th>Sucursal</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let cita of filteredCitas">
        <td>{{ cita.hora.split(' ')[1] }}</td>
        <td>{{ cita.fecha }}</td>
        <td>{{ cita.cliente }}</td>
        <td>{{ cita.barbero }}</td>
        <td>{{ cita.servicio }}</td>
        <td>{{ cita.tiempo }} min</td>
        <td>{{ cita.monto | currency:'CRC':'symbol':'1.0-0' }}</td>
        <td>{{ cita.sucursal }}</td>
      </tr>
    </tbody>
  </table>

  <!-- Paginación -->
  <div class="d-flex justify-content-between">
    <button class="btn btn-secondary" [disabled]="currentPage === 1" (click)="goToPage(currentPage - 1)">Anterior</button>
    <span>Página {{ currentPage }} de {{ totalPages }}</span>
    <button class="btn btn-secondary" [disabled]="currentPage === totalPages" (click)="goToPage(currentPage + 1)">Siguiente</button>
  </div>
</div>
